{% extends "base.html" %}
{% block title %}–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫–ª–∞–¥–µ{% endblock %}

{% block content %}
<style>
  .report-info-container {
    max-width: 800px;
    margin: 60px auto;
    padding: 40px;
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    font-family: 'Segoe UI', sans-serif;
    position: relative;
    z-index: 10;
  }

  .report-info-container h2 {
    font-size: 26px;
    margin-bottom: 20px;
    color: #333;
    text-align: center;
  }

  .report-field {
    margin-bottom: 20px;
  }

  .report-field label {
    font-weight: 600;
    color: #555;
    display: block;
    margin-bottom: 5px;
    font-size: 15px;
  }

  .report-field .value {
    background: #f9f6ff;
    padding: 12px 16px;
    border-radius: 10px;
    font-size: 16px;
    color: #222;
    border: 1px solid #eee;
  }

  .report-back {
    text-align: center;
    margin-top: 40px;
  }

  .btn-back {
    padding: 10px 20px;
    border: none;
    background: #7e00ff;
    color: white;
    border-radius: 8px;
    text-decoration: none;
    transition: background 0.3s;
  }

  .btn-back:hover {
    background: #5d00c7;
  }

  .grid-bg {
    z-index: 0;
  }
</style>

<div class="grid-bg">
  <div class="grid-inner">
    {% for _ in " "|ljust:14 %}<div class="grid-col"></div>{% endfor %}
  </div>
</div>

<div class="report-info-container">
  <h2>{{ report.title }}</h2>

  <div class="report-field">
    <label>–ê–≤—Ç–æ—Ä:</label>
    <div class="value">{{ report.author.full_name }} ({{ report.author.email }})</div>
  </div>

  <div class="report-field">
    <label>–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏:</label>
    <div class="value">{{ report.created_at|date:"d.m.Y H:i" }}</div>
  </div>

  <div class="report-field">
    <label>–°—Ç–∞—Ç—É—Å:</label>
    <div class="value">{{ report.status|default:"–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ" }}</div>
  </div>

  <div class="report-field">
    <label>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:</label>
    <div class="value" style="white-space: pre-line;">{{ report.content|default:"–ù–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ." }}</div>
  </div>

  <div class="report-back" style="display: flex; justify-content: center; gap: 20px; margin-top: 40px;">
    <a href="{% url 'edit_report' report.id %}" class="btn-back" style="background-color: #6c00ff;">
      ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –¥–æ–∫–ª–∞–¥
    </a>

    <form id="delete-report-form" method="post" action="{% url 'delete_report' report.id %}" style="display: inline;">
      {% csrf_token %}
      <button type="submit" class="btn-back" style="background-color: #ff4444; border: none; cursor: pointer;">
        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –¥–æ–∫–ª–∞–¥
      </button>
    </form>
  </div>

  <div class="report-back" style="margin-top: 20px; text-align: center;">
    <a href="{% url 'profile' %}" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å</a>
  </div>
</div>

<script>
  document.getElementById('delete-report-form').addEventListener('submit', function(e) {
    if (!confirm('–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–æ–∫–ª–∞–¥? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.')) {
      e.preventDefault();
    }
  });
</script>
{% endblock %}
